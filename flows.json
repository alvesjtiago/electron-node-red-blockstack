[{"id":"7c678072.e5f22","type":"tab","label":"Profile Lookup","disabled":false,"info":""},{"id":"41f61d2.fbe09e4","type":"tab","label":"Project Lookup","disabled":false,"info":""},{"id":"ca89c10e.a0dda","type":"tab","label":"Price Checks","disabled":false,"info":""},{"id":"94c206c4.a829f8","type":"tab","label":"Name History","disabled":false,"info":""},{"id":"52a903f3.ad56fc","type":"ui_tab","z":"41f61d2.fbe09e4","name":"Project Lookup","icon":"location_searching","order":2},{"id":"d9ba26fa.6d2b18","type":"ui_base","theme":{"name":"theme-light","lightTheme":{"default":"#0094CE","baseColor":"#7257ee","baseFont":"Arial Narrow,Nimbus Sans L,sans-serif","edited":true,"reset":false},"darkTheme":{"default":"#097479","baseColor":"#097479","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif","edited":true,"reset":false},"customTheme":{"name":"Untitled Theme 1","default":"#4B7930","baseColor":"#4B7930","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif","reset":false},"themeState":{"base-color":{"default":"#0094CE","value":"#0094CE","edited":true},"page-titlebar-backgroundColor":{"value":"#7257ee","edited":false},"page-backgroundColor":{"value":"#fafafa","edited":false},"page-sidebar-backgroundColor":{"value":"#000000","edited":false},"group-textColor":{"value":"#ac9cf5","edited":false},"group-borderColor":{"value":"#ffffff","edited":false},"group-backgroundColor":{"value":"#ffffff","edited":false},"widget-textColor":{"value":"#111111","edited":false},"widget-backgroundColor":{"value":"#7257ee","edited":false},"widget-borderColor":{"value":"#ffffff","edited":false},"base-font":{"value":"Arial Narrow,Nimbus Sans L,sans-serif"}}},"site":{"name":"Blockstack","hideToolbar":"false","allowSwipe":"false","dateFormat":"DD/MM/YYYY","sizes":{"sx":48,"sy":48,"gx":6,"gy":6,"cx":6,"cy":6,"px":0,"py":0}}},{"id":"87356b62.92e3d8","type":"ui_group","z":"","name":"Souq","tab":"52a903f3.ad56fc","order":1,"disp":true,"width":"6"},{"id":"c75ad4f0.0cede8","type":"ui_group","z":"","name":"Map","tab":null,"order":6,"disp":true,"width":"6"},{"id":"35f406bc.24958a","type":"ui_link","z":"","name":"Admin","link":"/admin","icon":"open_in_browser","target":"newtab","order":5},{"id":"d680c8c0.12be98","type":"ui_group","z":"","name":"Results","tab":null,"order":5,"disp":true,"width":"6"},{"id":"5a87d2c3.40682c","type":"ui_tab","z":"","name":"Profile Lookup","icon":"search","order":1},{"id":"677619d7.8d8578","type":"ui_group","z":"","name":"Blockstack","tab":"5a87d2c3.40682c","disp":true,"width":"6"},{"id":"db4fb507.d9bb88","type":"ui_group","z":"","name":"Text Results","tab":null,"order":3,"disp":false,"width":"6"},{"id":"856fe4a3.18a768","type":"ui_group","z":"","name":"Results","tab":null,"order":2,"disp":true,"width":"12"},{"id":"211296b0.28c4da","type":"ui_group","z":"","name":"Graph","tab":"","disp":true,"width":"6"},{"id":"3affeeb9.7b6812","type":"ui_group","z":"","name":"Profile","tab":"5a87d2c3.40682c","disp":true,"width":"6"},{"id":"207e3e62.731d62","type":"ui_tab","z":"","name":"Price Checks","icon":"loyalty","order":3},{"id":"232db903.19ad16","type":"ui_group","z":"","name":"Get Name Price","tab":"207e3e62.731d62","disp":true,"width":"6"},{"id":"393acb0.a3f5036","type":"ui_group","z":"","name":"Get Namespace Price","tab":"207e3e62.731d62","disp":true,"width":"6"},{"id":"a79e319f.9b2cd","type":"ui_tab","z":"","name":"Name History","icon":"history","order":4},{"id":"f78a2bcd.6dd898","type":"ui_group","z":"","name":"Get Name History","tab":"a79e319f.9b2cd","disp":true,"width":"6"},{"id":"4b8548f.99049b8","type":"ui_group","z":"","name":"Summary","tab":"52a903f3.ad56fc","disp":true,"width":"6"},{"id":"7d549f6e.58ab6","type":"worldmap","z":"41f61d2.fbe09e4","name":"","lat":"","lon":"","zoom":"","layer":"OSM","cluster":"","maxage":"","usermenu":"hide","panit":"true","x":1210,"y":280,"wires":[]},{"id":"c87aa53d.223ba8","type":"inject","z":"41f61d2.fbe09e4","name":"","topic":"","payload":"/worldmap","payloadType":"str","repeat":"","crontab":"","once":true,"x":110,"y":360,"wires":[["42a56979.e10b68"]]},{"id":"582c9a7e.d9d014","type":"ui_template","z":"41f61d2.fbe09e4","group":"87356b62.92e3d8","name":"map","order":2,"width":"6","height":"7","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"templateScope":"local","x":430,"y":360,"wires":[[]]},{"id":"42a56979.e10b68","type":"template","z":"41f61d2.fbe09e4","name":"","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<iframe src={{{payload}}} height=300px></iframe>","x":270,"y":360,"wires":[["582c9a7e.d9d014"]]},{"id":"1722289.9cab8d7","type":"ui_form","z":"41f61d2.fbe09e4","name":"","label":"Lookup Project","group":"87356b62.92e3d8","order":1,"width":"6","height":"4","options":[{"label":"Unique.id","value":"data","type":"text","required":true}],"formValue":{"data":""},"payload":"","topic":"","x":80,"y":280,"wires":[["2afed987.2e5276"]]},{"id":"d292cb0f.9a9aa8","type":"debug","z":"41f61d2.fbe09e4","name":"","active":true,"console":"false","complete":"payload","x":430,"y":240,"wires":[]},{"id":"2afed987.2e5276","type":"function","z":"41f61d2.fbe09e4","name":"rebind name","func":"var blockstackname = msg.payload.data;\n\nmsg.payload = blockstackname;\nreturn msg;","outputs":1,"noerr":0,"x":250,"y":280,"wires":[["fc25af37.2b062","d292cb0f.9a9aa8"]]},{"id":"fc25af37.2b062","type":"http request","z":"41f61d2.fbe09e4","name":"blockstack","method":"GET","ret":"txt","url":"http://localhost:6270/v1/names/{{payload}}","tls":"","x":430,"y":280,"wires":[["ebcd1f16.bf5b8"]]},{"id":"ebcd1f16.bf5b8","type":"json","z":"41f61d2.fbe09e4","name":"","pretty":false,"x":570,"y":280,"wires":[["a2cfd324.c0011","1208296f.6b57d7","fdfd7ede.dd58a"]]},{"id":"b0ef3f14.caf3b","type":"function","z":"41f61d2.fbe09e4","name":"prep for map","func":"// create random position\nvar lat = msg.payload.project[0].coordinates.latitude;\nvar lon = msg.payload.project[0].coordinates.longitude;\nmsg.payload={lat:lat, lon:lon, name:\"Project\", icon:\"bitcoin\", url:\"<a href=\\\"/red/ui/#/0\\\">IBM link</a>\"};\nreturn msg;","outputs":1,"noerr":0,"x":1050,"y":280,"wires":[["7d549f6e.58ab6"]]},{"id":"a2cfd324.c0011","type":"debug","z":"41f61d2.fbe09e4","name":"","active":true,"console":"false","complete":"false","x":730,"y":320,"wires":[]},{"id":"1208296f.6b57d7","type":"debug","z":"41f61d2.fbe09e4","name":"","active":true,"console":"false","complete":"payload.zonefile","x":760,"y":240,"wires":[]},{"id":"52ad566c.ad5558","type":"comment","z":"41f61d2.fbe09e4","name":"sample project to lookup","info":"pr01-mdf9kesl9v92lclivkrfcgt1.id","x":230,"y":440,"wires":[]},{"id":"fdfd7ede.dd58a","type":"function","z":"41f61d2.fbe09e4","name":"rebind zonefile","func":"var raw_zone = msg.payload.zonefile;\n\n\nmsg.payload = raw_zone;\n\nreturn msg;","outputs":1,"noerr":0,"x":740,"y":280,"wires":[["8875a384.84caf"]]},{"id":"ea6cd7d7.1ebc08","type":"debug","z":"41f61d2.fbe09e4","name":"zone debugger","active":true,"console":"false","complete":"payload","x":1060,"y":240,"wires":[]},{"id":"8875a384.84caf","type":"json","z":"41f61d2.fbe09e4","name":"","pretty":false,"x":890,"y":280,"wires":[["ea6cd7d7.1ebc08","b0ef3f14.caf3b","71c42a1e.da4de4"]]},{"id":"fefd9c89.17999","type":"ui_form","z":"7c678072.e5f22","name":"","label":"Profile Lookup","group":"677619d7.8d8578","order":2,"width":"6","height":"3","options":[{"label":"Name.id","value":"data","type":"text","required":true}],"formValue":{"data":""},"payload":"","topic":"","x":100,"y":300,"wires":[["763ce6f7.1a6b88"]]},{"id":"3e71c39f.f3f72c","type":"debug","z":"7c678072.e5f22","name":"","active":true,"console":"false","complete":"payload","x":450,"y":260,"wires":[]},{"id":"dad58184.246f4","type":"ui_template","z":"7c678072.e5f22","group":"3affeeb9.7b6812","name":"Result","order":1,"width":"6","height":"9","format":"<div><h3>{{msg.payload.name.formatted}}</h3></div>\n<div>\n<img src=\"{{msg.payload.avatar.url}}\" alt=\"{{msg.payload.name.formatted}}\" width=\"140\" height=\"140\">\n</div>\n<div>{{msg.payload.bio}}</div>\n\n<div>\n<img src=\"https://blockchain.info/qr?data={{msg.payload.bitcoin.address}}&size=200\" alt=\"QR\" style=\"width:200px;height:200px;\"> \n</div>","storeOutMessages":true,"fwdInMessages":true,"templateScope":"local","x":1030,"y":300,"wires":[[]]},{"id":"763ce6f7.1a6b88","type":"function","z":"7c678072.e5f22","name":"rebind name","func":"var blockstackname = msg.payload.data;\n\nmsg.payload = blockstackname;\nreturn msg;","outputs":1,"noerr":0,"x":270,"y":300,"wires":[["828a5c4f.f7d23","3e71c39f.f3f72c"]]},{"id":"828a5c4f.f7d23","type":"http request","z":"7c678072.e5f22","name":"blockstack","method":"GET","ret":"txt","url":"http://localhost:6270/v1/names/{{payload}}","tls":"","x":450,"y":300,"wires":[["a4441fd.1b247e"]]},{"id":"a4441fd.1b247e","type":"json","z":"7c678072.e5f22","name":"","pretty":false,"x":590,"y":300,"wires":[["d0a6c88b.40ddc8","a898909c.f2b58"]]},{"id":"d0a6c88b.40ddc8","type":"debug","z":"7c678072.e5f22","name":"","active":true,"console":"false","complete":"false","x":730,"y":260,"wires":[]},{"id":"a898909c.f2b58","type":"function","z":"7c678072.e5f22","name":"rebind zonefile","func":"var raw_zone = msg.payload.zonefile;\n\n\nmsg.payload = raw_zone;\n\nreturn msg;","outputs":1,"noerr":0,"x":740,"y":300,"wires":[["e0bccbe6.f9bc18"]]},{"id":"e0bccbe6.f9bc18","type":"json","z":"7c678072.e5f22","name":"","pretty":false,"x":890,"y":300,"wires":[["dad58184.246f4","90fda2ea.fa25f"]]},{"id":"90fda2ea.fa25f","type":"debug","z":"7c678072.e5f22","name":"","active":true,"console":"false","complete":"false","x":1050,"y":260,"wires":[]},{"id":"71c42a1e.da4de4","type":"ui_template","z":"41f61d2.fbe09e4","group":"4b8548f.99049b8","name":"Project Summary","order":0,"width":"6","height":"11","format":"<div>\n    <h3>{{msg.payload.project[0].project.title}}</h3>\n</div>\n<div>\n    Type: {{msg.payload.project[0].project.type}}\n</div>\n<div>\n    Category: {{msg.payload.project[0].project.category}}\n</div>\n<div>\n    Detail: {{msg.payload.project[0].project.detail}}\n</div>\n<div>\n   BTC Goal: {{msg.payload.project[0].bitcoin.goal}}\n</div>\n<div>\n    <img src=\"https://blockchain.info/qr?data={{msg.payload.project[0].bitcoin.address}}&size=200\" alt=\"QR\" style=\"width:200px;height:200px;\"> \n</div>\n<div>\n    <img src=\"{{msg.payload.project[0].image.url}}\" alt=\"Thumbnail\" style=\"width:200px;height:200px;\">\n</div>","storeOutMessages":true,"fwdInMessages":true,"templateScope":"local","x":1070,"y":340,"wires":[[]]},{"id":"7c331bf6.7cba24","type":"ui_form","z":"ca89c10e.a0dda","name":"","label":"Search by Name","group":"232db903.19ad16","order":1,"width":"6","height":"3","options":[{"label":"Name.id","value":"data","type":"text","required":true}],"formValue":{"data":""},"payload":"","topic":"","x":80,"y":140,"wires":[["f9922725.fe2608"]]},{"id":"f9922725.fe2608","type":"function","z":"ca89c10e.a0dda","name":"rebind name","func":"var blockstackname = msg.payload.data;\n\nmsg.payload = blockstackname;\nreturn msg;","outputs":1,"noerr":0,"x":250,"y":140,"wires":[["86f31206.e1959","32d45ea7.7296a2"]]},{"id":"86f31206.e1959","type":"http request","z":"ca89c10e.a0dda","name":"blockstack","method":"GET","ret":"txt","url":"http://localhost:6270/v1/prices/names/{{payload}}","tls":"","x":430,"y":140,"wires":[["fcb22c94.4894c"]]},{"id":"32d45ea7.7296a2","type":"debug","z":"ca89c10e.a0dda","name":"","active":true,"console":"false","complete":"payload","x":430,"y":100,"wires":[]},{"id":"fcb22c94.4894c","type":"json","z":"ca89c10e.a0dda","name":"","pretty":false,"x":570,"y":140,"wires":[["169d4769.7b6f29","e5335b37.ecdfb8"]]},{"id":"169d4769.7b6f29","type":"debug","z":"ca89c10e.a0dda","name":"","active":true,"console":"false","complete":"false","x":710,"y":100,"wires":[]},{"id":"e5335b37.ecdfb8","type":"ui_template","z":"ca89c10e.a0dda","group":"232db903.19ad16","name":"Result","order":2,"width":"6","height":"9","format":"<div>\n    Estimated Cost: {{msg.payload.total_estimated_cost.btc}}\n</div>\n<div>\n    {{msg.payload.warnings[0]}}\n</div>\n<br>\nRaw Results: {{msg.payload}}","storeOutMessages":true,"fwdInMessages":true,"templateScope":"local","x":810,"y":140,"wires":[[]]},{"id":"dc7d8e5f.41b89","type":"ui_form","z":"ca89c10e.a0dda","name":"","label":"By Namespace (tld)","group":"393acb0.a3f5036","order":1,"width":"6","height":"3","options":[{"label":"id","value":"data","type":"text","required":true}],"formValue":{"data":""},"payload":"","topic":"","x":90,"y":340,"wires":[["4497b18a.c6f2d"]]},{"id":"4497b18a.c6f2d","type":"function","z":"ca89c10e.a0dda","name":"rebind name","func":"var blockstackname = msg.payload.data;\n\nmsg.payload = blockstackname;\nreturn msg;","outputs":1,"noerr":0,"x":290,"y":340,"wires":[["4711613b.4cb8d","a5546cc6.f2cf2"]]},{"id":"4711613b.4cb8d","type":"http request","z":"ca89c10e.a0dda","name":"blockstack","method":"GET","ret":"txt","url":"http://localhost:6270/v1/prices/namespaces/{{payload}}","tls":"","x":470,"y":340,"wires":[["5855b7a8.c7a3a8"]]},{"id":"a5546cc6.f2cf2","type":"debug","z":"ca89c10e.a0dda","name":"","active":true,"console":"false","complete":"payload","x":470,"y":300,"wires":[]},{"id":"5855b7a8.c7a3a8","type":"json","z":"ca89c10e.a0dda","name":"","pretty":false,"x":610,"y":340,"wires":[["18923e46.525b12","27e39f49.b9579"]]},{"id":"18923e46.525b12","type":"debug","z":"ca89c10e.a0dda","name":"","active":true,"console":"false","complete":"false","x":750,"y":300,"wires":[]},{"id":"27e39f49.b9579","type":"ui_template","z":"ca89c10e.a0dda","group":"393acb0.a3f5036","name":"Result","order":2,"width":"6","height":"9","format":"Raw Results: {{msg.payload}}","storeOutMessages":true,"fwdInMessages":true,"templateScope":"local","x":790,"y":340,"wires":[[]]},{"id":"90a9dd66.e122e","type":"ui_form","z":"94c206c4.a829f8","name":"","label":"Search by Name","group":"f78a2bcd.6dd898","order":1,"width":"6","height":"3","options":[{"label":"Name.id","value":"data","type":"text","required":true}],"formValue":{"data":""},"payload":"","topic":"","x":100,"y":100,"wires":[["7c54c544.d9f2fc"]]},{"id":"7c54c544.d9f2fc","type":"function","z":"94c206c4.a829f8","name":"rebind name","func":"var blockstackname = msg.payload.data;\n\nmsg.payload = blockstackname;\nreturn msg;","outputs":1,"noerr":0,"x":270,"y":100,"wires":[["b48e2e67.79af9","25863764.603ee8"]]},{"id":"b48e2e67.79af9","type":"http request","z":"94c206c4.a829f8","name":"blockstack","method":"GET","ret":"txt","url":"http://localhost:6270/v1/names/{{payload}}/history","tls":"","x":450,"y":100,"wires":[["9bd2d3a0.b3342"]]},{"id":"25863764.603ee8","type":"debug","z":"94c206c4.a829f8","name":"","active":true,"console":"false","complete":"payload","x":450,"y":60,"wires":[]},{"id":"9bd2d3a0.b3342","type":"json","z":"94c206c4.a829f8","name":"","pretty":false,"x":590,"y":100,"wires":[["ff6c370e.fcc388","315f5e9b.18ba92"]]},{"id":"ff6c370e.fcc388","type":"debug","z":"94c206c4.a829f8","name":"","active":true,"console":"false","complete":"false","x":730,"y":60,"wires":[]},{"id":"315f5e9b.18ba92","type":"ui_template","z":"94c206c4.a829f8","group":"f78a2bcd.6dd898","name":"Result","order":2,"width":"6","height":"9","format":"Raw Results: {{msg.payload}}","storeOutMessages":true,"fwdInMessages":true,"templateScope":"local","x":830,"y":100,"wires":[[]]}]